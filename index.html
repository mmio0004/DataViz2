<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beat of the World (2021)</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.4.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>    
    <style>
/* General Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #f5f5f5;
    color: #444;
    line-height: 1.6;
}

/* Centered and constrained black header */
header {
    background-color: #000000;
    max-width: 1120px; /* Set the max-width to match the content */
    margin: 0 auto; /* Center the header */
    padding: 20px 0;
    text-align: center;
    border-radius: 10px; /* Optional: round the corners to match the white box */
}

.header-container img {
    max-width: 80%;
    height: auto;
}

main {
    max-width: 1157px; /* Ensure consistent width for main content */
    margin: 0 auto;
    padding: 20px;
    display: grid;
    grid-template-columns: 1fr; /* Single column grid for full-width sections */
    gap: 40px;
}

section {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
    background-color: white;
    padding: 40px;
    box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    width: 100%;
    max-width: 1157px; /* Ensure consistent width for all sections */
    overflow: hidden;
}

section h2 {
    text-align: center;
    font-size: 28px;
    color: #333;
    margin-bottom: 20px;
    border-bottom: 3px solid #ddd;
    padding-bottom: 10px;
    font-family: 'Georgia', serif;
    width: 100%; /* Ensure the title spans the full width of the section */
}

.text-content {
    max-width: 100%;
    padding: 20px;
    font-size: 16px;
    line-height: 1.8;
    color: #555;
    background-color: #f0f0f0;
    border-radius: 8px;
    text-align: center;
}

.chart {
    padding: 20px;
    width: 100%;
}

.chart2 {
    padding: 2px;
    width: 100%;
}

.chart-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: auto; /* Adjust height based on your needs */
    width: 100%;
}

footer {
    background-color: #000000;
    max-width: 1120px; /* Set the max-width to match the content */
    margin: 0 auto; /* Center the header */
    padding: 20px 0;
    text-align: center;
    border-radius: 10px; /* Optional: round the corners to match the white box */
}

/* Media Queries for Responsiveness */
@media screen and (max-width: 768px) {
    section {
        padding: 20px;
    }

    .text-content, .chart {
        width: 100%;
        padding: 10px;
    }
}
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <!-- Replace the text with the image -->
            <img src="https://raw.githubusercontent.com/mmio0004/DataViz2/main/img/botw_new4.png">
        </div>
    </header>

    <main>
        <!-- Section 1: Global Death Rate from Cardiovascular Diseases -->
        <section>
            <h2>Global Death Rates from Cardiovascular Diseases</h2>
            <div class="text-content">
                <p>
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">Nauru</span> (694.26), 
                    the <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">Solomon Islands</span> (566.07) and 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">Uzbekistan</span> (512.86) had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">highest</span> cardiovascular disease death rates, 
                    driven by smoking, poor diet and limited healthcare. 
                    In contrast, <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">San Marino</span> (60.13), 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">South Korea</span> (60.42) 
                    and <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">Japan</span> (69.25) had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">lowest</span> rates, 
                    due to strong healthcare systems</span> and healthier lifestyles.</p>
            </div>
            <div class="chart" id="cvd-death-rate-map"></div>
        </section>

        <!-- Section 2: Ranking of Continents with Most Cardiovascular Disease Death Rates -->
        <section>
            <h2>Ranking of Continents by Cardiovascular Disease Death Rates</h2>
            <div class="text-content">
                <p><span style="font-family: 'Arial', sans-serif; color: #a53922; font-weight: bold; font-size: 16px;">Africa</span> had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">highest</span> cardiovascular disease death rate at 287.12, 
                    driven by factors like 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">limited healthcare access</span>,
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">high hypertension rates</span> and 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">inadequate prevention efforts</span>.
                    <span style="font-family: 'Arial', sans-serif; color: #377eb8; font-weight: bold; font-size: 16px;">Asia</span> followed with a rate of 228.47,
                    also impacted by lifestyle risk factors such as poor diet and smoking. 
                    <span style="font-family: 'Arial', sans-serif; color: #ff7f00; font-weight: bold; font-size: 16px;">Oceania</span> had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">lowest</span> rate at 103.01,
                    while <span style="font-family: 'Arial', sans-serif; color: #4daf4a; font-weight: bold; font-size: 16px;">Europe</span>
                    and the <span style="font-family: 'Arial', sans-serif; color: #984ea3; font-weight: bold; font-size: 16px;">Americas</span>
                    had rates of 178.15 and 151.05, respectively.</p>
            </div>
            <div class="chart" id="cvd-death-rate-lollipop-chart"></div>
        </section>

        <!-- Section 3: Death Rate from Cardiovascular Diseases vs GDP per Capita -->
        <section>
            <h2>Cardiovascular Disease Death Rates versus GDP per Capita</h2>
            <div class="text-content">
                <p><span style="font-family: 'Arial', sans-serif; color: #a53922; font-weight: bold; font-size: 16px;">Africa</span> 
                    faced a <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">high</span> 
                    cardiovascular disease death rate of 287.12 per 100,000 people. 
                    This was exacerbated by a <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">low</span> 
                    average GDP per capita of 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">USD 5,703</span>, 
                    reflecting the continent's ongoing struggles with both infectious and non-communicable diseases. 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">Limited healthcare access</span> 
                    and <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">resources</span>
                    continued to hinder effective prevention and treatment.</p>
            </div>
            <div class="chart" id="cvd-death-rate-gdp-bubble-chart"></div>
        </section>

        <!-- Section 4: Cardiovascular Disease Risk Factors (Sankey Diagram) -->
        <section>
            <h2>Cardiovascular Disease Death Rates by Risk Factor</h2>
            <div class="text-content">
                <p><span style="font-family: 'Arial', sans-serif; color: #4daf4a; font-weight: bold; font-size: 16px;">Europe</span> had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">highest</span> death rate from 
                    <span style="font-family: 'Arial', sans-serif; color: #b1935e; font-weight: bold; font-size: 16px;">high blood pressure</span> (231.37), followed by 
                    <span style="font-family: 'Arial', sans-serif; color: #377eb8; font-weight: bold; font-size: 16px;">Asia</span> (138.54). 
                    <span style="font-family: 'Arial', sans-serif; color: #2ecde0; font-weight: bold; font-size: 16px;">High cholesterol</span> 
                    also significantly impacted both continents, with death rates of 98.45 and 45.59, respectively.

                    <span style="font-family: 'Arial', sans-serif; color: #a53922; font-weight: bold; font-size: 16px;">Africa</span> faced its greatest risk from 
                    <span style="font-family: 'Arial', sans-serif; color: #b1935e; font-weight: bold; font-size: 16px;">high blood pressure</span> 
                    (71.80). 
                    In the <span style="font-family: 'Arial', sans-serif; color: #984ea3; font-weight: bold; font-size: 16px;">Americas</span>, 
                    <span style="font-family: 'Arial', sans-serif; color: #ea2eb4; font-weight: bold; font-size: 16px;">overweight</span> and 
                    <span style="font-family: 'Arial', sans-serif; color: #b1935e; font-weight: bold; font-size: 16px;">high blood pressure</span> 
                    contributed to death rates of 30.86
                    and 97.32, 
                    while in <span style="font-family: 'Arial', sans-serif; color: #ff7f00; font-weight: bold; font-size: 16px;">Oceania</span>, 
                    <span style="font-family: 'Arial', sans-serif; color: #ea2eb4; font-weight: bold; font-size: 16px;">overweight</span> led to death rates of
                    21.37 and
                    <span style="font-family: 'Arial', sans-serif; color: #b1935e; font-weight: bold; font-size: 16px;">high blood pressure</span> to 76.09.</p>
            </div>
            <div class="chart2" id="cvd-death-rate-risk-factor-sankey"></div>
        </section>

        <!-- Section 5: Cardiovascular Disease Deaths by Type (Sunburst Chart) -->
        <section>
            <h2>Cardiovascular Disease Death Rates by Type and Gender</h2>
            <div class="text-content">
                <p><span style="font-family: 'Arial', sans-serif; color: #d49e75; font-weight: bold; font-size: 16px;">Ischemic heart disease</span>
                    had the <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">highest</span> 
                    death rates, with 126.35 for males and 101.45 for females. 
                    Then followed by
                    <span style="font-family: 'Arial', sans-serif; color: #d475ab; font-weight: bold; font-size: 16px;">stroke</span>, with 95.35 for males and 88.44 for females. 
                    <span style="font-family: 'Arial', sans-serif; color: #8e6c8a; font-weight: bold; font-size: 16px;">Hypertensive heart disease</span>
                    showed higher rates in females (19.7) than males (14.08), 
                    while <span style="font-family: 'Arial', sans-serif; color: #468f96; font-weight: bold; font-size: 16px;">cardiomyopathy and myocarditis</span>
                    and 
                    <span style="font-family: 'Arial', sans-serif; color: #837465; font-weight: bold; font-size: 16px;">rheumatic heart disease</span> had the 
                    <span style="font-family: 'Arial', sans-serif; color: #444; font-weight: bold; font-size: 16px;">lowest</span> rates, 
                    ranging from 3.99 to 6.19 for both genders.
                </p>
            </div>
            <div id="cvd-deaths-number-type-sunburst"></div>
        </section>
    </main>

    <footer>
        <span style="font-family: 'Arial', sans-serif; color: white; font-size: 11px;">A visualisation designed by</span> 
        <span style="font-family: 'Arial', sans-serif; color: white; font-weight: bold; font-size: 11px;">Mior Afiq</span>
        <span style="font-family: 'Arial', sans-serif; color: white; font-size: 11px;">on 15/10/2024.</span><br>
    
        <span style="font-family: 'Arial', sans-serif; color: white; font-size: 11px;">Data used for visualisation is provided by</span>
    
        <a href="https://ourworldindata.org/cardiovascular-diseases" style="font-family: 'Arial', sans-serif; color: white; font-weight: bold; font-size: 11px;">Our World in Data (2024)</a><span style="font-family: 'Arial', sans-serif; color: white; font-size: 11px;">.</span>
    </footer>

    <script>
        // Embedding Vega-Lite/Vega charts

        // Global Death Rate from Cardiovascular Diseases
        vegaEmbed('#cvd-death-rate-map', 'new_js/cvd_death_rate_map.vg.json').catch(console.error);

        // Ranking of Continents with Most Cardiovascular Disease Death Rates
        vegaEmbed('#cvd-death-rate-lollipop-chart', 'new_js/cvd_death_rate_lollipop_chart.vg.json').catch(console.error);

        // Death Rate from Cardiovascular Diseases vs GDP per Capita
        vegaEmbed('#cvd-death-rate-gdp-bubble-chart', 'new_js/cvd_death_rate_gdp_bubble_chart.vg.json').catch(console.error);

        // Cardiovascular Disease Risk Factors (Sankey Diagram)
        vegaEmbed('#cvd-death-rate-risk-factor-sankey', 'new_js/cvd_death_rate_risk_factor_sankey.vg.json').catch(console.error);

        // Cardiovascular Disease Deaths by Type (Sunburst Chart)
        vegaEmbed('#cvd-deaths-number-type-sunburst', 'new_js/cvd_deaths_number_type_sun_burst.vg.json').catch(console.error);
    </script>
</body>
</html>